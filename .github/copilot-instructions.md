# Repository Guidelines

## Project Structure & Module Organization

- `src/` contains the TypeScript source code for the CLI, TUI, orchestrator, adapters, prompts, and utilities.
- `dist/` is the compiled output (generated by `npm run build`).
- `ai-core/` houses skills, tests, and shared orchestration assets used by the meta-orchestrator.
- `docs/` stores longer-form documentation and plans.
- `bin/` and `poc/` include helper scripts and proofs of concept.

## Build, Test, and Development Commands

- `npm run dev` — run the CLI from source via `tsx src/cli/index.ts`.
- `npm run build` — compile TypeScript into `dist/`.
- `npm start` — run the compiled CLI from `dist/cli/index.js`.
- `npm run tui` — launch the terminal UI build.
- `npm test` — run Vitest (add tests to enable meaningful results).
- `npm run test:coverage` — Vitest with coverage.
- `npm run lint` — lint `src/` with ESLint (ensure deps are installed).
- `npm run clean` — remove `dist/`.

## Coding Style & Naming Conventions

- Language: TypeScript (ESM). Keep internal import paths using `.js` extensions (see `src/index.ts`).
- Indentation: 2 spaces, semicolons required.
- Naming: React components in PascalCase (`src/tui/`), utilities and helpers in camelCase (`src/utils/`).
- Place new source files under `src/` and export public APIs from `src/index.ts`.

## Testing Guidelines

- Framework: Vitest (`npm test`).
- Test files should use `*.test.ts` or `*.spec.ts` under `src/`.
- Integration/spec workflows live under `ai-core/tests/`; update only if you modify orchestration behavior.

## Commit & Pull Request Guidelines

- Commit messages follow conventional commits when possible (e.g., `chore(ai-core): sync ...`, `feat(cli): add command`).
- PRs should include: summary of changes, test command(s) run, and any config changes (e.g., `.orchestrarc.json`).
- Include TUI screenshots or terminal output snippets when UI behavior changes.

## Security & Configuration Tips

- Config files: `.orchestrarc.json`, `.orchestrarc`, `orchestra.config.json`, `.orchestra/config.json`.
- Do not commit secrets. For GLM usage, provide `ZAI_API_KEY` via environment variables.
- Runtime artifacts are stored in `.orchestra/`; avoid checking them into Git.
